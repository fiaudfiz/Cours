üìù Module 6 : M√©moire Virtuelle, MMU & Syst√®me d'Exploitation
1. L'Espace d'Adressage Virtuel (Virtual Address Space - VAS)

Imagine que chaque programme tourne dans une r√©alit√© virtuelle.

    Le Mensonge : Quand ton programme demande l'adresse 0x100, il ne demande pas la 256√®me case de ta barrette de RAM. Il demande la 256√®me case de son monde imaginaire.

    L'Adresse Virtuelle : C'est un simple num√©ro (un index) utilis√© par le programme.

    L'Adresse Physique : C'est l'emplacement r√©el des √©lectrons dans la puce de RAM.

Pourquoi s'emb√™ter avec √ßa ?

    Isolation : Si le Programme A bugue et √©crit √† l'adresse 0x100, il ne peut pas √©craser les donn√©es du Programme B, car le 0x100 du Programme B pointe ailleurs dans la vraie RAM.

    Continuit√© : Ton programme peut croire qu'il a 1 Go de m√©moire d'un seul bloc, alors qu'en r√©alit√©, l'OS lui a donn√© 1000 petits morceaux √©parpill√©s partout sur la barrette.

2. La MMU (Memory Management Unit) : Le Traducteur

C'est un composant physique (du silicium) situ√© entre le CPU et la RAM.

    D√©finition : C'est le traducteur simultan√©. Chaque fois que le CPU dit "Donne-moi ce qu'il y a √† l'adresse virtuelle 0xABC", la MMU regarde son dictionnaire et crie √† la RAM : "Envoie le contenu de la case physique 0x999 !".

    Le TLB (Translation Lookaside Buffer) : C'est le cache personnel de la MMU. Comme chercher dans le dictionnaire (la Page Table) est lent, la MMU garde en m√©moire les 500 derni√®res traductions qu'elle a faites.

        TLB Hit : Traduction instantan√©e.

        TLB Miss : La MMU doit aller lire la Page Table en RAM (tr√®s lent, environ 200 cycles).

3. La Pagination (Paging) : Le d√©coupage

L'OS ne g√®re pas la m√©moire octet par octet (√ßa ferait un dictionnaire de traduction trop gros). Il d√©coupe tout en Pages.

    La Page (Virtuelle) : C'est un bloc de 4096 octets (4 Ko). C'est l'unit√© de base de la m√©moire.

    Le Cadre (Page Frame - Physique) : C'est la "case" de 4 Ko dans la vraie RAM.

    Analogie : La m√©moire est un livre.

        L'adresse virtuelle, c'est "Page 4, ligne 10".

        La MMU traduit √ßa en "√âtag√®re 2, Rayon B, Volume 5".

        Tu ne peux pas emprunter juste une ligne, l'OS te donne forc√©ment la page enti√®re.

4. Le Page Table (Table des Pages)

C'est le fameux "dictionnaire" stock√© en RAM. Il contient la liste des correspondances.
Mais ce n'est pas qu'une liste, c'est aussi un garde-barri√®re. Pour chaque page, il stocke des Bits de Permission :

    Present Bit : Est-ce que cette page est vraiment dans la RAM ? (Ou est-elle sur le disque ?)

    Read/Write Bit : Est-ce que le programme a le droit de modifier cette page ?

    User/Supervisor Bit : Est-ce que c'est une page r√©serv√©e au Kernel (le cerveau de l'OS) ?

5. Le Page Fault (L'Interruption)

C'est l'un des concepts les plus importants de l'informatique.

Le sc√©nario :

    Ton programme essaie d'acc√©der √† l'adresse 0x500.

    La MMU regarde la Page Table et voit que le Present Bit est √† 0 (La page n'est pas encore "physiquement" l√†).

    Le CPU s'arr√™te net. Il l√®ve une exception : le Page Fault.

    L'OS (le Kernel) arrive en urgence. Il cherche une page de RAM vide, il y place les donn√©es, met le Present Bit √† 1, et dit au CPU : "C'est bon, r√©-essaie".

C'est gr√¢ce √† √ßa que tu peux lancer un jeu de 100 Go alors que tu n'as que 16 Go de RAM : l'OS ne charge que les pages dont tu as besoin √† l'instant T (on appelle √ßa le Demand Paging).
6. Vocabulaire "Deep Tech" r√©capitulatif

    Kernel Space : La zone de m√©moire sacr√©e o√π tourne l'OS. Inaccessible pour tes programmes.

    User Space : Ton bac √† sable.

    Context Switch (Changement de contexte) : Quand le CPU passe du Programme A au Programme B. Il doit vider le TLB et charger la Page Table du nouveau programme. C'est une op√©ration co√ªteuse.

    Fragmentation : * Interne : Tu as demand√© 10 octets, l'OS t'a donn√© 4096 octets (une page). Tu g√¢ches 4086 octets.

        Externe : Tu as plein de petits trous de m√©moire libre, mais aucun n'est assez grand pour un gros bloc.